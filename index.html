<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title> Etch-A-Sketch </title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <h1>Etch-ðŸš€-Sketch</h1>
  <div class="controls">
    <label for="gridNum">How big ur grid?? (12-100):</label>
    <input type="number" placeholder="12" value="12" id="gridNum" min="12" max="100">
    <button type="button" class="button" id="gridGen" onclick="createGrid();">Press Me</button>
    <button type="button" class="button" id="reset" onclick="resetGrid()">Reset</button>
    <button type="button" class="button" id="color">ðŸŒˆ</button>
    <br><br> 
    </div>

  </div>
  <br><br>
  <div class="grid"></div>

  <script>

    var grid = document.querySelector('.grid');

    function createGrid() {
      var gridNum = document.getElementById("gridNum").valueAsNumber;
      removeAllChildNodes(parent);
      removeAllChildNodes(grid);
      grid.setAttribute('style', `grid-template-columns: repeat(${gridNum}, 2fr); grid-template-rows: repeat(${gridNum}, 2fr);`);
      for (let i = 0; i < gridNum * gridNum; i++) {
        const div = document.createElement('div');
        div.classList.add('cell');
        div.addEventListener('mouseover', function (event) {
          event.target.style.backgroundColor = 'pink';
        })
        grid.appendChild(div);
      }
    };

    function removeAllChildNodes(parent) {
      while (parent.firstChild) {
        parent.removeChild(parent.firstChild);
      }
    };

    function resetGrid() {
      removeAllChildNodes(grid);
    };

    function colorRan() {
      let letters = '0123456789ABCDEF';
      let color = '#';
      for (var i = 0; i < 6; i++) {
        color += letters[Math.floor(Math.random() * 16)];
      }
      return color;
    };

    const color = document.querySelector('#color');
    color.addEventListener('click', function () {
      let val = document.getElementById('gridNum').value;
      let cell = grid.children;
      for (let i = 0; i < val * val; i++) {
        cell[i].addEventListener('mouseover', function (event) {
          event.target.style.backgroundColor = colorRan();
        })
      }
    });
  </script>
</body>

</html>